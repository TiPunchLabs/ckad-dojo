# Implementation Plan: Dojo Welcome Banner

**Branch**: `013-dojo-welcome-banner` | **Date**: 2025-12-11 | **Spec**: [spec.md](spec.md)
**Input**: Feature specification from `/specs/013-dojo-welcome-banner/spec.md`

## Summary

Add a personalized welcome banner with ASCII art and dojo name to the embedded terminal (ttyd). Each exam displays its guardian identity from the Shishin (Four Celestial Guardians): Seiryu (Dragon), Suzaku (Phoenix), Byakko (Tiger), Genbu (Turtle). Configuration stored in exam.conf with DOJO_NAME and DOJO_EMOJI fields.

## Technical Context

**Language/Version**: Bash 4.0+ (scripts), Python 3.8+ (web server)
**Primary Dependencies**: ttyd (terminal), existing ASCII art from ckad_dojo.py
**Storage**: N/A (configuration in exam.conf files)
**Testing**: Manual testing via web interface
**Target Platform**: Linux (local development)
**Project Type**: Existing web application
**Performance Goals**: Banner displays within 1 second of terminal load
**Constraints**: Must work in ttyd environment, support Unicode/emoji

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Notes |
|-----------|--------|-------|
| I. Script-First Automation | PASS | Adding shell script for banner display |
| II. Kubernetes-Native Tooling | PASS | No K8s changes |
| III. Automated Scoring | PASS | No impact on scoring |
| IV. Exam Fidelity | PASS | Enhances exam atmosphere |
| V. Idempotent Operations | PASS | Banner display is read-only |
| VI. Modern UI | PASS | Improves user experience with personalization |

**All gates PASS** - No violations.

## Project Structure

### Documentation (this feature)

```text
specs/013-dojo-welcome-banner/
â”œâ”€â”€ plan.md              # This file
â”œâ”€â”€ spec.md              # Feature specification
â”œâ”€â”€ checklists/
â”‚   â””â”€â”€ requirements.md  # Quality checklist
â””â”€â”€ tasks.md             # Task list (generated by /speckit.tasks)
```

### Source Code (files to modify/create)

```text
exams/
â”œâ”€â”€ ckad-simulation1/
â”‚   â””â”€â”€ exam.conf        # Add DOJO_NAME="Dojo Seiryu", DOJO_EMOJI="ğŸ‰"
â”œâ”€â”€ ckad-simulation2/
â”‚   â””â”€â”€ exam.conf        # Add DOJO_NAME="Dojo Suzaku", DOJO_EMOJI="ğŸ”¥"
â”œâ”€â”€ ckad-simulation3/
â”‚   â””â”€â”€ exam.conf        # Add DOJO_NAME="Dojo Byakko", DOJO_EMOJI="ğŸ¯"
â””â”€â”€ ckad-simulation4/
    â””â”€â”€ exam.conf        # Add DOJO_NAME="Dojo Genbu", DOJO_EMOJI="ğŸ¢"

scripts/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ banner.sh        # NEW: Banner display functions
â””â”€â”€ ckad-exam.sh         # Modify to call banner on terminal start
```

**Structure Decision**: Minimal changes to existing structure. New banner.sh library script, exam.conf updates, and ckad-exam.sh integration.

## Implementation Approach

### Phase 1: Configuration Update

Add DOJO_NAME and DOJO_EMOJI to all 4 exam.conf files with the Shishin guardian mapping.

### Phase 2: Banner Script

Create `scripts/lib/banner.sh` with:

- `show_dojo_banner()` function that reads exam config and displays ASCII art + welcome message
- Reuse existing ASCII art from ckad_dojo.py (convert to bash)
- Format: Banner + "Bienvenue au {DOJO_NAME} {DOJO_EMOJI}" + exam stats

### Phase 3: Integration

Modify ttyd startup to source banner.sh and call `show_dojo_banner` with exam ID.

## Dojo Configuration

| Exam ID | DOJO_NAME | DOJO_EMOJI | Guardian |
|---------|-----------|------------|----------|
| ckad-simulation1 | Dojo Seiryu | ğŸ‰ | Dragon Azure (Est) |
| ckad-simulation2 | Dojo Suzaku | ğŸ”¥ | PhÃ©nix Vermillon (Sud) |
| ckad-simulation3 | Dojo Byakko | ğŸ¯ | Tigre Blanc (Ouest) |
| ckad-simulation4 | Dojo Genbu | ğŸ¢ | Tortue Noire (Nord) |

## Complexity Tracking

No violations - this is a straightforward enhancement.
